var t,e=(t=require("element-to-path"))&&"object"==typeof t&&"default"in t?t.default:t,n=require("nanoid");function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var i,o=function(t){return'\n  <rect rx="3" ry="3" x="'+t.x+'" y="'+t.y+'" width="'+t.width+'" height="'+t.height+'" />\n'},a=function(t){return'\n  <path id="'+t.id+'" d="'+t.path+'" />\n'},u=(i=function(t){var e=t.width,n=t.height,i=t.singles,u=t.groups;return'\n<svg width="'+e+'" height="'+n+'" viewBox="0 0 '+e+" "+n+'" preserveAspectRatio="none">\n  <rect x="0" y="0" width="100%" height="100%" clip-path="url(#clip)" style=\'fill: url("#fill");\'></rect>\n  <defs>\n    '+u.map(a).join("")+'\n    <clipPath id="clip">\n      '+function(t){return t.reduce(function(t,e){return t+e.positions.map(function(t){return'\n  <use href="#'+(n=r({},e,t)).id+'" x="'+n.x+'" y="'+n.y+'" />\n';var n}).join("")},"")}(u)+"\n      "+i.map(o).join("")+'\n    </clipPath>\n    \n  <linearGradient id="fill">\n    <stop\n      offset="0.599964"\n      stop-color="#f3f3f3"\n      stop-opacity="1"\n    >\n      <animate\n        attributeName="offset"\n        values="-2; -2; 1"\n        keyTimes="0; 0.25; 1"\n        dur="2s"\n        repeatCount="indefinite"\n      ></animate>\n    </stop>\n    <stop\n      offset="1.59996"\n      stop-color="#ecebeb"\n      stop-opacity="1"\n    >\n      <animate\n        attributeName="offset"\n        values="-1; -1; 2"\n        keyTimes="0; 0.25; 1"\n        dur="2s"\n        repeatCount="indefinite"\n      ></animate>\n    </stop>\n    <stop\n      offset="2.59996"\n      stop-color="#f3f3f3"\n      stop-opacity="1"\n    >\n      <animate\n        attributeName="offset"\n        values="0; 0; 3"\n        keyTimes="0; 0.25; 1"\n        dur="2s"\n        repeatCount="indefinite"\n      ></animate>\n    </stop>\n  </linearGradient>\n\n  <defs>\n</svg>\n'},function(t){return i(t).replace(/(\r\n|\n|\r)/gm,"")}),c={container:"[data-draw='container']",group:"[data-draw='group']",text:"[data-draw='text']",rect:"[data-draw='rect']",border:"[data-draw='border']",identifyGroup:function(t){return t.dataset["draw-id"]}},l=function(t,e){var n=t.getBoundingClientRect();return{left:n.left-e.left,top:n.top-e.top,width:n.width,height:n.height}},f=function(t){return window.getComputedStyle(t,null)},p={text:function(t,e){if(!function(t){return!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}(t)){var n=l(t,e),r=function(t){var e=f(t),n=parseInt(e.getPropertyValue("font-size")),r=parseInt(e.getPropertyValue("line-height")),i=isNaN(r)?n:r,o=function(t){var e=t.getPropertyValue("box-sizing"),n=parseInt(t.getPropertyValue("height"));return"border-box"!==e?n:n-parseInt(t.getPropertyValue("padding-top"))-parseInt(t.getPropertyValue("padding-bottom"))-parseInt(t.getPropertyValue("border-top-width"))-parseInt(t.getPropertyValue("border-bottom-width"))}(e);return{lines:o<2*i?1:Math.ceil(o/i),lineHeight:i}}(t),i=r.lines,o=r.lineHeight;if(1===i){var a=function(t){var e=document.createRange();return e.selectNode(t),e.getClientRects()}(t);n.left=a[1].x-20,n.width=a[1].width}var u=n.left,c=n.top,p=n.width,d=n.height;return[].concat(Array(i).keys()).map(function(t){return{x:u,y:t?c+t*o+5*t:c,height:d<o?d:o,width:p}})}},rect:function(t,e){var n=l(t,e),r=f(t),i=parseInt(r.getPropertyValue("padding-left")),o=parseInt(r.getPropertyValue("padding-right"));return[{x:n.left+i,y:n.top,width:n.width+o,height:n.height}]}},d=function(t,e,n){return Array.from(e).map(function(e){return p[t](e,n)}).filter(function(t){return!!t}).reduce(function(t,e){return[].concat(t,e)},[])},s=function(t,e,n,r){var i=n.getBoundingClientRect(),o=Array.from(n.querySelectorAll(e)).filter(function(t){return!r.find(function(n){return Array.from(n.querySelectorAll(e)).includes(t)})});return d(t,o,i)};module.exports=function(t){var i=r({},c,t);if(!document)return console.error("Function available only in browser environment!");var o=document.querySelectorAll(i.container);return o?Array.from(o).map(function(t){return function(t,i){var o=t.getBoundingClientRect(),a=o.width,c=o.height,l=Array.from(t.querySelectorAll(i.group)),f=l.reduce(function(t,e){var n,o,a=i.identifyGroup(e);return r({},t,t[a]?((o={})[a]=[].concat(t[a],[e]),o):((n={})[a]=[e],n))},{}),p=Object.keys(f).map(function(t){return function(t,r){var i=t[0],o=i.getBoundingClientRect(),a=i.querySelectorAll(r.text),u=i.querySelectorAll(r.rect),c=[].concat(d("text",a,o),d("rect",u,o)).map(function(t){return e({type:"element",name:"rect",attributes:t})}).join(" ");return{positions:t.map(function(t){var e=t.getBoundingClientRect();return{x:e.x,y:e.y}}),path:c,id:n.nanoid()}}(f[t],i)}),h=[].concat(s("text",i.text,t,l),s("rect",i.rect,t,l));return u({width:a,height:c,singles:h,groups:p})}(t,i)}):console.error("FNo containers was found on the page")};
//# sourceMappingURL=skeleton-generator.js.map
